SHELL = /bin/bash
#-------------------------------------------------------------------------------
.PHONY:	tests
#-------------------------------------------------------------------------------
all:
	@ make lib
	@ make tests
#-------------------------------------------------------------------------------
lib:
	@ echo "> make lib ..."
	@ gprbuild -p -P ada_lapack.gpr
#-------------------------------------------------------------------------------
tests:
	@ echo "> make tests ..."
	@ (cd tests; make all; make diff)
#-------------------------------------------------------------------------------
rm-dot:
	@ rm -rf .build-*
	@ (cd tests; make rm-dot)
#-------------------------------------------------------------------------------
rm-lib:
	@ rm -rf lib-*
#-------------------------------------------------------------------------------
clean:
	@ (cd tests; make clean)
#-------------------------------------------------------------------------------
veryclean:
	@ (cd tests; make veryclean)
#-------------------------------------------------------------------------------
pristine:
	@ make rm-dot
	@ make rm-lib
	@ (cd tests; make pristine)
#-------------------------------------------------------------------------------
# prepare files for github
github:
	@ make pristine
	@ make lib
	@ (cd tests; make github)
	@ make rm-dot
	@ make rm-lib
